# TP7 : Cr√©ation et Utilisation d'une Shared Library Jenkins

## üéØ Objectif
Cr√©ation d'une Shared Library Jenkins et son utilisation dans un pipeline.

---

## üìå Pr√©requis
- Compte GitHub  
- Acc√®s administrateur √† Jenkins  
- Plugins Jenkins install√©s : **Git**, **Pipeline**

---

## √âtape 1 : Cr√©ation de la structure de la Shared Library sur GitHub

1. Cr√©er un nouveau d√©p√¥t GitHub nomm√© **jenkins-shared-library**
2. Cloner le d√©p√¥t localement :
   ```bash
   git clone https://github.com/votre-utilisateur/jenkins-shared-library.git
   cd jenkins-shared-library
Cr√©er la structure suivante :

css
Copy code
jenkins-shared-library/
‚îú‚îÄ‚îÄ vars/
‚îÇ   ‚îî‚îÄ‚îÄ sayHello.groovy
‚îî‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ org/
        ‚îî‚îÄ‚îÄ example/
            ‚îî‚îÄ‚îÄ Utils.groovy
Ajouter le contenu suivant :

vars/sayHello.groovy
groovy
Copy code
def call(String name = 'World') {
    echo "Hello, ${name}!"
}
src/org/example/Utils.groovy
groovy
Copy code
package org.example

class Utils {
    static String toUpperCase(String input) {
        return input.toUpperCase()
    }
}
Pousser les changements vers GitHub :

bash
Copy code
git add .
git commit -m "Add shared library structure and files"
git push origin main
√âtape 2 : Configuration de la Shared Library dans Jenkins
Aller dans : Manage Jenkins > System Configuration > Configure System

Descendre jusqu'√† Global Pipeline Libraries

Ajouter une nouvelle biblioth√®que :

Name : jenkins-shared-library

Default version : main

Retrieval method : Modern SCM

Source Code Management : Git

Project URL :

arduino
Copy code
https://github.com/votre-utilisateur/jenkins-shared-library.git
Sauvegarder.

√âtape 3 : Cr√©ation d'un pipeline testant la Shared Library
Cr√©er un pipeline (via un job Pipeline ou un Jenkinsfile) :

groovy
Copy code
@Library('jenkins-shared-library') _

pipeline {
    agent any

    stages {
        stage('Test Shared Library') {
            steps {
                script {
                    // Utilisation de la fonction globale
                    sayHello 'Jenkins'
                    sayHello 'Lab User'

                    // Utilisation de la classe utilitaire
                    def utils = new org.example.Utils()
                    def result = utils.toUpperCase('this should be uppercase')
                    echo "Uppercase result: ${result}"
                }
            }
        }
    }
}
√âtape 4 : Ex√©cution et Validation
Lancer le pipeline, puis v√©rifier dans les logs :

Le message "Hello, Jenkins!" appara√Æt

Le message "Hello, Lab User!" appara√Æt

Le message "THIS SHOULD BE UPPERCASE" appara√Æt

